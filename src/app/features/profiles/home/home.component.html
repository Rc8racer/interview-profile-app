<div class="container-fluid main-container">
  <!-- Header -->
  <div class="header text-white py-3">
    <div class="d-flex justify-content-between align-items-center">
      <h5 class="fw-bold m-0">My Matches</h5>
      <div class="dropdown">
        <div (click)="navigateToGesture()" class="cursor-pointer">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-three-dots-vertical"
            viewBox="0 0 16 16"
          >
            <path
              d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"
            />
          </svg>
        </div>
      </div>
    </div>
  </div>

  <!-- Title -->
  <div class="py-3">
    <h5 class="text-white fw-bold">
      8 Profiles pending with me
      <span class="badge bg-light text-dark">5 NEW</span>
    </h5>
  </div>

  <!-- Responsive Cards -->
  <div class="container">
    <div class="row g-4">
      <div
        *ngFor="let profile of profiles"
        class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex"
      >
        <div
          class="card profile-card shadow-sm border-0 flex-fill d-flex flex-column"
        >
        
          <!-- Profile Image -->
          <ng-container
            *ngIf="profile.photos && profile.photos.length > 0; else noPhoto"
          >
            <img
              [src]="profile.photos[0]"
              class="profile-img img-fluid rounded-top pic"
              alt="Profile Photo"
            />
          </ng-container>

          <ng-template #noPhoto>
            <img
              src="assets/photos/priyanka.jpg"
              class="profile-img img-fluid rounded-top pic"
              alt="Default Photo"
            />
          </ng-template>

          <!-- Card Content -->
          <div
            class="card-body text-center d-flex flex-column justify-content-between"
          >
            <div (click)="openProfileDetails(profile.id)">
              <h5 class="fw-bold mb-2">
                {{ profile.name }} ({{ profile.age }} Yrs)
              </h5>
              <p class="text-muted mb-1">
                {{ profile.height }} | {{ profile.education }} |
                {{ profile.occupation }}
              </p>
              <p class="text-muted">
                {{ profile.caste }} | {{ profile.locality }}
              </p>
            </div>

            <!-- Buttons -->
            <div class="d-flex justify-content-between gap-2 mt-3">
              <button
                class="btn btn-warning w-100 rounded-pill"
                (click)="onAccept(profile.id)"
              >
                Yes
              </button>
              <button
                class="btn btn-outline-dark w-100 rounded-pill"
                (click)="removeProfile(profile.id)"
              >
                No
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
